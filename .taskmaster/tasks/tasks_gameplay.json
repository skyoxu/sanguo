[
  {
    "id": "GM-0001",
    "story_id": "PRD-SANGUO-T2-BOOTSTRAP",
    "title": "设置Godot项目",
    "description": "初始化Godot项目并配置C#环境。",
    "status": "pending",
    "priority": "P1",
    "layer": "infra",
    "depends_on": [],
    "adr_refs": [
      "ADR-0001",
      "ADR-0005",
      "ADR-0011",
      "ADR-0018"
    ],
    "chapter_refs": [
      "CH01",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "bootstrap",
      "godot",
      "csharp",
      "t2-gameplay"
    ],
    "owner": "architecture",
    "test_refs": [],
    "acceptance": [
      "Taskmaster 配置与脚本在 Windows 环境下可运行，不破坏现有 CI 流程。",
      "生成的任务视图与 .taskmaster/tasks/tasks.json 中的 task id 一一对应。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\casus-belli"
    ],
    "test_strategy": [
      "使用 Python 单元测试或最小烟测脚本验证任务视图生成逻辑。",
      "在本地运行 Taskmaster MCP 读取新视图，确认解析无错误。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\casus-belli"
    ],
    "taskmaster_id": 1,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0001",
      "ADR-0005",
      "ADR-0011",
      "ADR-0018"
    ],
    "archRefs": [
      "CH01",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
  },
  {
    "id": "GM-0002",
    "story_id": "PRD-SANGUO-T2-BOARD",
    "title": "创建环形地图数据结构",
    "description": "设计并实现游戏地图的环形数据结构。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0001"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "board",
      "map",
      "city",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块一（棋盘 / 城池 / 环形路线）的任务分解：在棋盘与场景结构上参考 Godot 官方演示项目 2d/hexagonal_map、2d/dynamic_tilemap_layers，只借鉴结构与模式，不直接复制代码。",
      "Local demo references: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\hexagonal_map ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\dynamic_tilemap_layers ; C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在本项目实现前，先运行并阅读 2d/hexagonal_map 或相关 TileMap 演示项目，据此设计一组棋盘位置与移动路径的单元测试 / 场景测试，用于验证环形路线与城池状态更新逻辑。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\hexagonal_map ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\dynamic_tilemap_layers ; C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone"
    ],
    "taskmaster_id": 2,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.board.token.moved"
    ]
  },
  {
    "id": "GM-0003",
    "story_id": "PRD-SANGUO-T2-CITY",
    "title": "实现城池类",
    "description": "定义城池的属性和方法。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0002"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "city",
      "economy",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块一（棋盘 / 城池 / 环形路线）的任务分解：在棋盘与场景结构上参考 Godot 官方演示项目 2d/hexagonal_map、2d/dynamic_tilemap_layers，只借鉴结构与模式，不直接复制代码。",
      "Local demo references: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\hexagonal_map ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\dynamic_tilemap_layers ; C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在本项目实现前，先运行并阅读 2d/hexagonal_map 或相关 TileMap 演示项目，据此设计一组棋盘位置与移动路径的单元测试 / 场景测试，用于验证环形路线与城池状态更新逻辑。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\hexagonal_map ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\dynamic_tilemap_layers ; C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone"
    ],
    "taskmaster_id": 3,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
  },
  {
    "id": "GM-0004",
    "story_id": "PRD-SANGUO-T2-PLAYER",
    "title": "实现玩家类",
    "description": "定义玩家的属性和基本操作。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0003"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "player",
      "economy",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。"
    ],
    "taskmaster_id": 4,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
  },
  {
    "id": "GM-0005",
    "story_id": "PRD-SANGUO-T2-DICE",
    "title": "实现骰子机制",
    "description": "设计骰子投掷的逻辑。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0001"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "dice",
      "random",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。"
    ],
    "taskmaster_id": 5,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.dice.rolled"
    ]
  },
  {
    "id": "GM-0006",
    "story_id": "PRD-SANGUO-T2-TURN-MANAGER",
    "title": "实现回合管理器",
    "description": "控制游戏回合的顺序和时间推进。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0004",
      "GM-0005"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "turn",
      "calendar",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块二（回合 + 时间轴）的设计：回合推进与日期/月份/年度节点清晰可追踪，并与 T2 PRD 中的“日 → 月末 → 季度 → 年度”闭环描述一致。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\dafuweng\\casus-belli ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\pong"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "参考 Godot 官方演示项目中基于 game loop 的示例（如 dodge_the_creeps、pong），编写 xUnit 测试模拟多轮回合推进，验证在不同起始日期与玩家顺序下，时间轴事件触发点与 PRD 定义完全对齐。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\dafuweng\\casus-belli ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\pong"
    ],
    "taskmaster_id": 6,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.game.turn.started",
      "core.sanguo.game.turn.ended"
    ]
  },
  {
    "id": "GM-0007",
    "story_id": "PRD-SANGUO-T2-ECONOMY",
    "title": "实现经济结算管理器",
    "description": "处理月末收益结算和地价调整。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0006"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "economy",
      "settlement",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块三（地产 / 租金 / 经济结算 / 环境事件）的设计：城池收益、过路费、季度环境事件与年度地价调整都由 Game.Core 统一结算，并在 UI 中有清晰可追踪的反馈。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在实现经济与事件系统之前，先对照 taskup.md 中的模块三说明，以及 Godot 演示项目中与资源产出 / 状态机相关的示例，编写覆盖月末结算、季度事件和年度调价的组合测试场景，确保数值变化与日志记录都可以在测试中被验证。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "taskmaster_id": 7,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.economy.month.settled"
    ]
  },
  {
    "id": "GM-0008",
    "story_id": "PRD-SANGUO-T2-ENV-EVENTS",
    "title": "实现事件管理器",
    "description": "管理季度环境事件的生成和应用。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0007"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "events",
      "environment",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块三（地产 / 租金 / 经济结算 / 环境事件）的设计：城池收益、过路费、季度环境事件与年度地价调整都由 Game.Core 统一结算，并在 UI 中有清晰可追踪的反馈。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在实现经济与事件系统之前，先对照 taskup.md 中的模块三说明，以及 Godot 演示项目中与资源产出 / 状态机相关的示例，编写覆盖月末结算、季度事件和年度调价的组合测试场景，确保数值变化与日志记录都可以在测试中被验证。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "taskmaster_id": 8,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.economy.season.event.applied"
    ]
  },
  {
    "id": "GM-0009",
    "story_id": "PRD-SANGUO-T2-UI-SKELETON",
    "title": "设计UI界面",
    "description": "设计游戏的用户界面。",
    "status": "pending",
    "priority": "P2",
    "layer": "ui",
    "depends_on": [
      "GM-0001"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "ui",
      "hud",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "对应的 Godot 场景与 UI 控件可以在 headless 冒烟测试中成功加载。",
      "关键 UI 交互通过 Tests.Godot 中的 GdUnit4 用例覆盖。",
      "Local demo references: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "test_strategy": [
      "使用 GdUnit4 为主要 UI 流程编写场景级测试，至少覆盖 T2 垂直切片。",
      "在 smoke_headless 流水线中运行 UI 冒烟，确保不会阻塞主循环或崩溃。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "taskmaster_id": 9,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
  },
  {
    "id": "GM-0022",
    "story_id": "PRD-SANGUO-T2-UI-DICE",
    "title": "实现UI骰子结果显示",
    "description": "在UI上显示骰子投掷结果。",
    "status": "pending",
    "priority": "P2",
    "layer": "ui",
    "depends_on": [
      "GM-0009",
      "GM-0005"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "ui",
      "dice",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "对应的 Godot 场景与 UI 控件可以在 headless 冒烟测试中成功加载。",
      "关键 UI 交互通过 Tests.Godot 中的 GdUnit4 用例覆盖。",
      "Local demo references: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "test_strategy": [
      "使用 GdUnit4 为主要 UI 流程编写场景级测试，至少覆盖 T2 垂直切片。",
      "在 smoke_headless 流水线中运行 UI 冒烟，确保不会阻塞主循环或崩溃。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "taskmaster_id": 22,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.dice.rolled"
    ]
  },
  {
    "id": "GM-0010",
    "story_id": "PRD-SANGUO-T2-TOKEN-MOVE",
    "title": "实现玩家棋子移动",
    "description": "根据骰子结果移动玩家棋子。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0005",
      "GM-0009"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "movement",
      "board",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块一（棋盘 / 城池 / 环形路线）的任务分解：在棋盘与场景结构上参考 Godot 官方演示项目 2d/hexagonal_map、2d/dynamic_tilemap_layers，只借鉴结构与模式，不直接复制代码。",
      "Local demo references: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\hexagonal_map ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\dynamic_tilemap_layers ; C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在本项目实现前，先运行并阅读 2d/hexagonal_map 或相关 TileMap 演示项目，据此设计一组棋盘位置与移动路径的单元测试 / 场景测试，用于验证环形路线与城池状态更新逻辑。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\hexagonal_map ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\dynamic_tilemap_layers ; C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone"
    ],
    "taskmaster_id": 10,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.board.token.moved"
    ]
  },
  {
    "id": "GM-0012",
    "story_id": "PRD-SANGUO-T2-BUY-LAND",
    "title": "实现土地购买逻辑",
    "description": "处理玩家购买城池的逻辑。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0004",
      "GM-0010"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "economy",
      "buy",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块三（地产 / 租金 / 经济结算 / 环境事件）的设计：城池收益、过路费、季度环境事件与年度地价调整都由 Game.Core 统一结算，并在 UI 中有清晰可追踪的反馈。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在实现经济与事件系统之前，先对照 taskup.md 中的模块三说明，以及 Godot 演示项目中与资源产出 / 状态机相关的示例，编写覆盖月末结算、季度事件和年度调价的组合测试场景，确保数值变化与日志记录都可以在测试中被验证。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "taskmaster_id": 12,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.city.bought"
    ]
  },
  {
    "id": "GM-0023",
    "story_id": "PRD-SANGUO-T2-UI-CITY-STATE",
    "title": "实现UI城池状态显示",
    "description": "在UI上显示城池的占有状态。",
    "status": "pending",
    "priority": "P2",
    "layer": "ui",
    "depends_on": [
      "GM-0009",
      "GM-0012"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "ui",
      "city",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "对应的 Godot 场景与 UI 控件可以在 headless 冒烟测试中成功加载。",
      "关键 UI 交互通过 Tests.Godot 中的 GdUnit4 用例覆盖。",
      "符合学习模块一（棋盘 / 城池 / 环形路线）的任务分解：在棋盘与场景结构上参考 Godot 官方演示项目 2d/hexagonal_map、2d/dynamic_tilemap_layers，只借鉴结构与模式，不直接复制代码。",
      "Local demo references: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\hexagonal_map ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\dynamic_tilemap_layers ; C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "test_strategy": [
      "使用 GdUnit4 为主要 UI 流程编写场景级测试，至少覆盖 T2 垂直切片。",
      "在 smoke_headless 流水线中运行 UI 冒烟，确保不会阻塞主循环或崩溃。",
      "在本项目实现前，先运行并阅读 2d/hexagonal_map 或相关 TileMap 演示项目，据此设计一组棋盘位置与移动路径的单元测试 / 场景测试，用于验证环形路线与城池状态更新逻辑。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\hexagonal_map ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\dynamic_tilemap_layers ; C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "taskmaster_id": 23,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.city.bought",
      "core.sanguo.city.toll.paid",
      "core.sanguo.economy.season.event.applied"
    ]
  },
  {
    "id": "GM-0013",
    "story_id": "PRD-SANGUO-T2-TOLL",
    "title": "实现过路费支付逻辑",
    "description": "处理玩家支付过路费的逻辑。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0012"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "economy",
      "toll",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块三（地产 / 租金 / 经济结算 / 环境事件）的设计：城池收益、过路费、季度环境事件与年度地价调整都由 Game.Core 统一结算，并在 UI 中有清晰可追踪的反馈。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在实现经济与事件系统之前，先对照 taskup.md 中的模块三说明，以及 Godot 演示项目中与资源产出 / 状态机相关的示例，编写覆盖月末结算、季度事件和年度调价的组合测试场景，确保数值变化与日志记录都可以在测试中被验证。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "taskmaster_id": 13,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.city.toll.paid"
    ]
  },
  {
    "id": "GM-0011",
    "story_id": "PRD-SANGUO-T2-AI-CORE",
    "title": "实现AI行为",
    "description": "设计AI的基本行动逻辑。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0004",
      "GM-0010"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "ai",
      "agent",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "Local demo references: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\finite_state_machine ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\finite_state_machine ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "taskmaster_id": 11,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.ai.decision.made"
    ]
  },
  {
    "id": "GM-0014",
    "story_id": "PRD-SANGUO-T2-MONTH-END",
    "title": "实现月末收益结算",
    "description": "自动结算玩家的月末收益。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0007",
      "GM-0013"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "economy",
      "month-end",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块三（地产 / 租金 / 经济结算 / 环境事件）的设计：城池收益、过路费、季度环境事件与年度地价调整都由 Game.Core 统一结算，并在 UI 中有清晰可追踪的反馈。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在实现经济与事件系统之前，先对照 taskup.md 中的模块三说明，以及 Godot 演示项目中与资源产出 / 状态机相关的示例，编写覆盖月末结算、季度事件和年度调价的组合测试场景，确保数值变化与日志记录都可以在测试中被验证。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "taskmaster_id": 14,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.economy.month.settled"
    ]
  },
  {
    "id": "GM-0020",
    "story_id": "PRD-SANGUO-T2-UI-MONEY",
    "title": "实现UI资金显示",
    "description": "在UI上显示玩家的资金信息。",
    "status": "pending",
    "priority": "P2",
    "layer": "ui",
    "depends_on": [
      "GM-0009",
      "GM-0014"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "ui",
      "money",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "对应的 Godot 场景与 UI 控件可以在 headless 冒烟测试中成功加载。",
      "关键 UI 交互通过 Tests.Godot 中的 GdUnit4 用例覆盖。",
      "Local demo references: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "test_strategy": [
      "使用 GdUnit4 为主要 UI 流程编写场景级测试，至少覆盖 T2 垂直切片。",
      "在 smoke_headless 流水线中运行 UI 冒烟，确保不会阻塞主循环或崩溃。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "taskmaster_id": 20,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.player.state.changed"
    ]
  },
  {
    "id": "GM-0015",
    "story_id": "PRD-SANGUO-T2-SEASON-EVENTS",
    "title": "实现季度环境事件",
    "description": "触发并应用季度环境事件。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0008",
      "GM-0014"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "events",
      "season",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块三（地产 / 租金 / 经济结算 / 环境事件）的设计：城池收益、过路费、季度环境事件与年度地价调整都由 Game.Core 统一结算，并在 UI 中有清晰可追踪的反馈。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在实现经济与事件系统之前，先对照 taskup.md 中的模块三说明，以及 Godot 演示项目中与资源产出 / 状态机相关的示例，编写覆盖月末结算、季度事件和年度调价的组合测试场景，确保数值变化与日志记录都可以在测试中被验证。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "taskmaster_id": 15,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.economy.season.event.applied"
    ]
  },
  {
    "id": "GM-0019",
    "story_id": "PRD-SANGUO-T2-UI-EVENT-TIPS",
    "title": "实现UI事件提示",
    "description": "在UI上显示游戏事件提示。",
    "status": "pending",
    "priority": "P2",
    "layer": "ui",
    "depends_on": [
      "GM-0009",
      "GM-0015"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "ui",
      "notifications",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "对应的 Godot 场景与 UI 控件可以在 headless 冒烟测试中成功加载。",
      "关键 UI 交互通过 Tests.Godot 中的 GdUnit4 用例覆盖。",
      "符合学习模块三（地产 / 租金 / 经济结算 / 环境事件）的设计：城池收益、过路费、季度环境事件与年度地价调整都由 Game.Core 统一结算，并在 UI 中有清晰可追踪的反馈。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "test_strategy": [
      "使用 GdUnit4 为主要 UI 流程编写场景级测试，至少覆盖 T2 垂直切片。",
      "在 smoke_headless 流水线中运行 UI 冒烟，确保不会阻塞主循环或崩溃。",
      "在实现经济与事件系统之前，先对照 taskup.md 中的模块三说明，以及 Godot 演示项目中与资源产出 / 状态机相关的示例，编写覆盖月末结算、季度事件和年度调价的组合测试场景，确保数值变化与日志记录都可以在测试中被验证。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "taskmaster_id": 19,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.board.token.moved",
      "core.sanguo.city.bought",
      "core.sanguo.city.toll.paid",
      "core.sanguo.economy.month.settled",
      "core.sanguo.economy.season.event.applied",
      "core.sanguo.game.ended"
    ]
  },
  {
    "id": "GM-0016",
    "story_id": "PRD-SANGUO-T2-YEAR-PRICE",
    "title": "实现年度地价调整",
    "description": "每年年初调整城池的地价。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0014"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "economy",
      "price",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块三（地产 / 租金 / 经济结算 / 环境事件）的设计：城池收益、过路费、季度环境事件与年度地价调整都由 Game.Core 统一结算，并在 UI 中有清晰可追踪的反馈。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "在实现经济与事件系统之前，先对照 taskup.md 中的模块三说明，以及 Godot 演示项目中与资源产出 / 状态机相关的示例，编写覆盖月末结算、季度事件和年度调价的组合测试场景，确保数值变化与日志记录都可以在测试中被验证。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype"
    ],
    "taskmaster_id": 16,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.economy.year.price.adjusted"
    ]
  },
  {
    "id": "GM-0017",
    "story_id": "PRD-SANGUO-T2-GAME-LOOP",
    "title": "实现回合循环",
    "description": "确保游戏回合循环正常进行。",
    "status": "pending",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0006",
      "GM-0016"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "loop",
      "calendar",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。",
      "符合学习模块二（回合 + 时间轴）的设计：回合推进与日期/月份/年度节点清晰可追踪，并与 T2 PRD 中的“日 → 月末 → 季度 → 年度”闭环描述一致。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\dafuweng\\casus-belli ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\pong"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。",
      "参考 Godot 官方演示项目中基于 game loop 的示例（如 dodge_the_creeps、pong），编写 xUnit 测试模拟多轮回合推进，验证在不同起始日期与玩家顺序下，时间轴事件触发点与 PRD 定义完全对齐。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\dafuweng\\casus-belli ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\pong"
    ],
    "taskmaster_id": 17,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.game.turn.advanced"
    ]
  },
  {
    "id": "GM-0021",
    "story_id": "PRD-SANGUO-T2-UI-DATE",
    "title": "实现UI日期显示",
    "description": "在UI上显示当前游戏日期。",
    "status": "pending",
    "priority": "P2",
    "layer": "ui",
    "depends_on": [
      "GM-0009",
      "GM-0017"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "ui",
      "calendar",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "对应的 Godot 场景与 UI 控件可以在 headless 冒烟测试中成功加载。",
      "关键 UI 交互通过 Tests.Godot 中的 GdUnit4 用例覆盖。",
      "符合学习模块二（回合 + 时间轴）的设计：回合推进与日期/月份/年度节点清晰可追踪，并与 T2 PRD 中的“日 → 月末 → 季度 → 年度”闭环描述一致。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\dafuweng\\casus-belli ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\pong ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "test_strategy": [
      "使用 GdUnit4 为主要 UI 流程编写场景级测试，至少覆盖 T2 垂直切片。",
      "在 smoke_headless 流水线中运行 UI 冒烟，确保不会阻塞主循环或崩溃。",
      "参考 Godot 官方演示项目中基于 game loop 的示例（如 dodge_the_creeps、pong），编写 xUnit 测试模拟多轮回合推进，验证在不同起始日期与玩家顺序下，时间轴事件触发点与 PRD 定义完全对齐。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\dafuweng\\casus-belli ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\2d\\pong ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "taskmaster_id": 21,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.game.turn.advanced"
    ]
  },
  {
    "id": "GM-0018",
    "story_id": "PRD-SANGUO-T2-SAVELOAD",
    "title": "实现存档功能",
    "description": "实现游戏进度的保存和加载。",
    "status": "deferred",
    "priority": "P1",
    "layer": "core",
    "depends_on": [
      "GM-0017"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "save",
      "persistence",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "核心玩法相关类与方法在 Game.Core 中实现且不依赖 Godot API。",
      "对应任务的 xUnit 测试用例存在并通过（见 test_refs 占位路径）。"
    ],
    "test_strategy": [
      "为核心玩法编写 xUnit + FluentAssertions 单元测试覆盖主要状态机与计算。",
      "使用覆盖率工具（coverlet）确保核心逻辑达到 ADR-0005 规定的门禁。"
    ],
    "taskmaster_id": 18,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0015",
      "ADR-0018",
      "ADR-0020",
      "ADR-0021",
      "ADR-0024",
      "ADR-0025"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH05",
      "CH06",
      "CH07",
      "CH09"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.game.saved",
      "core.sanguo.game.loaded"
    ]
  },
  {
    "id": "GM-0024",
    "story_id": "PRD-SANGUO-T2-UI-LOG",
    "title": "实现UI事件日志",
    "description": "记录并显示游戏事件日志。",
    "status": "deferred",
    "priority": "P2",
    "layer": "ui",
    "depends_on": [
      "GM-0019"
    ],
    "adr_refs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "chapter_refs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay_refs": [
      "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md"
    ],
    "labels": [
      "ui",
      "log",
      "t2-gameplay"
    ],
    "owner": "gameplay",
    "test_refs": [],
    "acceptance": [
      "对应的 Godot 场景与 UI 控件可以在 headless 冒烟测试中成功加载。",
      "关键 UI 交互通过 Tests.Godot 中的 GdUnit4 用例覆盖。",
      "符合学习模块三（地产 / 租金 / 经济结算 / 环境事件）的设计：城池收益、过路费、季度环境事件与年度地价调整都由 Game.Core 统一结算，并在 UI 中有清晰可追踪的反馈。",
      "Local demo references: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "test_strategy": [
      "使用 GdUnit4 为主要 UI 流程编写场景级测试，至少覆盖 T2 垂直切片。",
      "在 smoke_headless 流水线中运行 UI 冒烟，确保不会阻塞主循环或崩溃。",
      "在实现经济与事件系统之前，先对照 taskup.md 中的模块三说明，以及 Godot 演示项目中与资源产出 / 状态机相关的示例，编写覆盖月末结算、季度事件和年度调价的组合测试场景，确保数值变化与日志记录都可以在测试中被验证。",
      "Local demo paths for implementation/tests: C:\\buildgame\\godotdemo\\dafuweng\\monopoly_clone ; C:\\buildgame\\godotdemo\\dafuweng\\Prototype ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\control_gallery ; C:\\buildgame\\godotdemo\\demo\\godot-demo-projects\\gui\\accessibility"
    ],
    "taskmaster_id": 24,
    "taskmaster_exported": true,
    "adrRefs": [
      "ADR-0005",
      "ADR-0018",
      "ADR-0022"
    ],
    "archRefs": [
      "CH01",
      "CH04",
      "CH06",
      "CH07",
      "CH10"
    ],
    "overlay": "docs/architecture/overlays/PRD-SANGUO-T2/08/08-功能纵切-T2-三国大富翁闭环.md",
    "contractRefs": [
      "core.sanguo.board.token.moved",
      "core.sanguo.city.bought",
      "core.sanguo.city.toll.paid",
      "core.sanguo.economy.month.settled",
      "core.sanguo.economy.season.event.applied",
      "core.sanguo.economy.year.price.adjusted",
      "core.sanguo.game.ended"
    ]
  }
]